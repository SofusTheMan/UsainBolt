{% extends "base.html" %}

{% block content %}
<div style="display: flex; align-items: start; gap: 20px; margin-bottom: 20px;">
    <img src="{{ url_for('profile_picture', user_id=user.user_id) }}" 
         alt="{{ user.username }}" 
         style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 2px solid #ccc;">
    
    <div>
        <h2>{{ user.username }}'s Profile</h2>
        <a href="{{ url_for('edit_profile', user_id=user.user_id) }}">
            <button type="button">ðŸ“· Edit Profile Picture</button>
        </a>
    </div>
</div>

<p>Total Meters: {{ runs|length }}</p>
<p>Hurtigste tid: {{ "%.2f"|format(best) if best else "N/A" }}</p>
<p>Gennemsnits tid: {{ "%.2f"|format(avg) if avg else "N/A" }}</p>

<h3>History</h3>
<table>
    <tr>
        <th>Time (s)</th>
        <th>Date</th>
        <th>Video</th>
    </tr>
    {% for run in runs %}
    <tr>
        <td>{{ "%.2f"|format(run.time_seconds) }}</td>
        <td>{{ run.run_date.strftime("%d. %b %Y %H:%M") }}</td>
        <td><a href="{{ url_for('meter', run_id=run.run_id) }}">View</a></td>
    </tr>
    {% endfor %}
</table>
{% endblock %}